generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model game {
  game_id    Int          @id @default(autoincrement())
  game_name  String       @db.VarChar(10)
  game_rules game_rules[]
  rank       rank[]
  scoreboard scoreboard[]
}

model game_rules {
  rule_id             Int     @id @default(autoincrement())
  rule_game_id        Int
  base_point          Int?    @db.TinyInt
  point_per_word      Int?    @db.TinyInt
  penalty_per_tip     Int?    @db.TinyInt
  penalty_per_attempt Int?    @db.TinyInt
  max_attempts        String? @db.VarChar(255)
  game                game    @relation(fields: [rule_game_id], references: [game_id], onDelete: NoAction, onUpdate: NoAction, map: "FK_games_rules_games")

  @@index([rule_game_id], map: "FK_games_rules_games")
}

model gamer {
  gamer_id   Int          @id @default(autoincrement())
  gamer_name String       @db.VarChar(55)
  rank       rank[]
  scoreboard scoreboard[]
}

model rank {
  rank_id       Int    @id @default(autoincrement())
  rank_gamer_id Int?
  rank_game_id  Int?
  game          game?  @relation(fields: [rank_game_id], references: [game_id], onDelete: NoAction, onUpdate: NoAction, map: "FK_rank_game")
  gamer         gamer? @relation(fields: [rank_gamer_id], references: [gamer_id], onDelete: NoAction, onUpdate: NoAction, map: "FK_rank_gamer")

  @@index([rank_game_id], map: "FK_rank_game")
  @@index([rank_gamer_id], map: "FK_rank_gamer")
}

model scoreboard {
  score_id             Int       @id @default(autoincrement())
  score_game_id        Int
  score_gamer_id       Int
  score_quantity_games Int
  score_tips           Int?
  score_attempts       Int?
  score_words          Int?
  score_points         Int?
  score_data           DateTime? @db.Date
  game                 game      @relation(fields: [score_game_id], references: [game_id], onDelete: NoAction, onUpdate: NoAction, map: "FK_scoreboard_game")
  gamer                gamer     @relation(fields: [score_gamer_id], references: [gamer_id], onDelete: NoAction, onUpdate: NoAction, map: "FK_scoreboard_gamer")

  @@index([score_game_id], map: "FK_scoreboard_game")
  @@index([score_gamer_id], map: "FK_scoreboard_gamer")
}
